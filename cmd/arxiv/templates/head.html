{{define "head"}}
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>{{.Title}} - arXiv.gg</title>
	<script>
	MathJax = {
		tex: {inlineMath: [['$', '$'], ['\\(', '\\)']]}
	};
	</script>
	<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" async></script>
	<style>
		* { box-sizing: border-box; }
		body { font-family: system-ui, -apple-system, sans-serif; max-width: 900px; margin: 0 auto; padding: 1rem; line-height: 1.5; }
		a { color: #0066cc; }
		.search-form { margin: 1rem 0; }
		.search-form input[type="text"] { padding: 0.5rem; width: 300px; font-size: 1rem; }
		.search-form button { padding: 0.5rem 1rem; font-size: 1rem; cursor: pointer; }
		/* Paper cards - fixed min-height prevents CLS when badges load */
		.paper { border-bottom: 1px solid #eee; padding: 1rem 0; min-height: 5.5rem; contain: layout style; }
		.paper-id { font-family: monospace; color: #666; }
		.paper-title { font-size: 1.1rem; font-weight: 600; margin: 0.25rem 0; min-height: 1.4rem; }
		.paper-authors { color: #444; min-height: 1.5rem; }
		.paper-categories { font-size: 0.9rem; color: #666; min-height: 1.2rem; }
		.paper-abstract { margin: 1rem 0; white-space: pre-wrap; }
		.paper-meta { font-size: 0.9rem; color: #666; margin: 0.5rem 0; }
		.badge { display: inline-block; background: #e0e0e0; padding: 0.1rem 0.4rem; border-radius: 3px; font-size: 0.8rem; margin-right: 0.25rem; }
		.badge-src { background: #d4edda; }
		.badge-pdf { background: #cce5ff; }
		.badge-similarity { background: #fff3cd; color: #856404; font-weight: 600; }
		.search-mode-toggle { margin: 0.5rem 0; display: flex; gap: 0.5rem; align-items: center; }
		.search-mode-toggle .toggle-label { 
			display: flex; 
			align-items: center; 
			padding: 0.4rem 0.8rem; 
			background: #f8f9fa; 
			border: 2px solid #dee2e6; 
			border-radius: 6px; 
			cursor: pointer; 
			transition: all 0.2s ease; 
			font-size: 0.9rem; 
		}
		.search-mode-toggle .toggle-label:hover { background: #e9ecef; }
		.search-mode-toggle input[type="radio"] { display: none; }
		.search-mode-toggle input[type="radio"]:checked + .toggle-text { 
			font-weight: 600; 
			color: #0066cc; 
		}
		.search-mode-toggle input[type="radio"]:checked + .toggle-text::after { 
			content: ""; 
			display: inline-block; 
			width: 6px; 
			height: 6px; 
			background: #0066cc; 
			border-radius: 50%; 
			margin-left: 6px; 
		}
		.search-mode-toggle .toggle-text { 
			display: flex; 
			align-items: center; 
			gap: 0.3rem; 
		}
		#mode-semantic:checked + .toggle-text::before { 
			content: "üß†"; 
			font-size: 0.8em; 
		}
		#mode-keyword:checked + .toggle-text::before { 
			content: "üîç"; 
			font-size: 0.8em; 
		}
		.files { margin: 1rem 0; }
		.files ul { list-style: none; padding: 0; }
		.files li { font-family: monospace; padding: 0.25rem 0; }
		.nav { margin-bottom: 1rem; }
		pre { background: #f5f5f5; padding: 1rem; overflow-x: auto; }
		.refs { margin: 1rem 0; }
		.refs ul { list-style: none; padding: 0; }
		.refs li { padding: 0.25rem 0; font-family: monospace; }
		.ref-cached { color: #28a745; }
		.ref-uncached { color: #6c757d; }
		.author-link { color: #0066cc; text-decoration: none; }
		.author-link:hover { text-decoration: underline; }
		.btn { display: inline-block; padding: 0.4rem 0.8rem; background: #0066cc; color: white; text-decoration: none; border-radius: 4px; border: none; cursor: pointer; font-size: 0.9rem; }
		.btn:hover { background: #0052a3; }
		.btn-sm { padding: 0.2rem 0.5rem; font-size: 0.8rem; }
		.btn-secondary { background: #6c757d; }
		.btn-secondary:hover { background: #5a6268; }
		.pdf-section { margin: 1rem 0; padding: 1rem; background: #f8f9fa; border-radius: 4px; }
		.fetch-form { display: inline; }
		.fetch-link { color: #6c757d; font-size: 0.85em; }
		.cite-count { color: #6c757d; font-size: 0.85em; }
		.cat-link { font-family: monospace; background: #f0f0f0; padding: 0.1rem 0.3rem; border-radius: 3px; text-decoration: none; font-size: 0.9em; }
		.cat-link:hover { background: #e0e0e0; }
		.categories-list { display: flex; flex-wrap: wrap; gap: 0.5rem; }
		.cat-item { background: #f8f9fa; padding: 0.5rem 1rem; border-radius: 4px; }
		.cat-item a { text-decoration: none; font-family: monospace; }
		.cat-count { color: #666; font-size: 0.9em; }
		/* Search results - reserve space to prevent CLS when results load */
		.search-results { margin-top: 1rem; min-height: 0; contain: layout style; }
		.search-results:not(:empty) { min-height: 200px; }
		.search-status { color: #666; font-size: 0.9em; margin: 0.5rem 0; min-height: 1.5rem; }
		.graph-section { margin: 2rem 0; }
		/* Graph container - explicit dimensions prevent CLS */
		.graph-container { border: 1px solid #ddd; border-radius: 4px; background: #fafafa; position: relative; aspect-ratio: 16/9; min-height: 300px; contain: layout; }
		.graph-container svg { display: block; width: 100%; height: 100%; }
		.graph-controls { position: absolute; top: 0.5rem; right: 0.5rem; z-index: 10; }
		.graph-legend { position: absolute; bottom: 0.5rem; left: 0.5rem; background: rgba(255,255,255,0.9); padding: 0.5rem; border-radius: 4px; font-size: 11px; }
		.legend-item { display: flex; align-items: center; margin: 0.15rem 0; }
		.legend-color { width: 10px; height: 10px; border-radius: 50%; margin-right: 0.4rem; }
		.graph-tooltip { position: fixed; padding: 6px 10px; background: rgba(0,0,0,0.85); color: white; border-radius: 4px; font-size: 11px; pointer-events: none; max-width: 280px; z-index: 1000; display: none; }
		.graph-node { cursor: pointer; transition: r 0.15s; }
		.graph-link { stroke: #999; stroke-opacity: 0.5; fill: none; }
		.highlight-node { stroke: #ff6b00; stroke-width: 3px; }
		.highlight-link { stroke: #ff6b00; stroke-opacity: 1; stroke-width: 2px; }
		.highlight-ref { background: #fff3cd !important; }
		@keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.3); } }
		.pulse-node { animation: pulse 0.6s ease-in-out; }
		.graph-fullscreen { position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 1000; background: white; }
		.graph-fullscreen .graph-container { width: 100%; height: 100%; border: none; border-radius: 0; }
		/* Loading status - use inline-block with fixed width to prevent CLS */
		.prefetch-status { font-size: 0.8em; color: #666; font-weight: normal; margin-left: 0.5rem; display: inline-block; min-width: 120px; }
		.prefetch-status::before { content: ""; display: inline-block; width: 12px; height: 12px; border: 2px solid #ddd; border-top-color: #0066cc; border-radius: 50%; margin-right: 0.4rem; animation: spin 1s linear infinite; vertical-align: middle; }
		@keyframes spin { to { transform: rotate(360deg); } }
		.prefetch-done { color: #28a745; }
		.prefetch-done::before { display: none; }
		.alert { padding: 1rem; border-radius: 4px; margin: 1rem 0; }
		.alert-warning { background: #fff3cd; border: 1px solid #ffeaa7; color: #856404; }
		.alert h3 { margin-top: 0; }
		.alert h4 { margin: 0.75rem 0; }
		.alert p { margin: 0.5rem 0; }
		.code-block { background: #f5f5f5; padding: 1rem; border-radius: 4px; overflow-x: auto; margin: 0.5rem 0; }
		.code-block code { font-family: monospace; font-size: 0.9em; color: #333; }
		.embedding-actions { margin-top: 1rem; padding-top: 1rem; border-top: 1px solid #ffeaa7; }
	</style>
</head>
<body>
<div class="nav"><a href="/">Home</a> | <a href="/categories">Categories</a> | <a href="/api/v1/">API</a></div>
{{end}}
